"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var bPopover=_interopDefault(require("bootstrap-vue/es/components/popover/popover")),messagesDefault={title:"Are you sure?",yes:"Yes",no:"No"},component$1={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{ref:"trigger",attrs:{id:e.randomId,tabindex:"-1"},on:{"!click":function(t){return e.interceptEvent(t)}}},[e._t("default")],2),e._v(" "),n("b-popover",{ref:"popover",staticClass:"click-confirm",attrs:{target:e.randomId,show:e.isOpen,placement:e.placement,title:e.messages.title,triggers:"blur"},on:{"update:show":function(t){e.isOpen=t},hidden:e.onHidden}},[n("div",{staticClass:"text-center"},[n("button",{ref:"buttonYes",class:[e.yesClass,e.buttonSizeClass],on:{click:function(t){return t.preventDefault(),e.onOk(t)}}},[e._t("confirm-yes-icon",[e.yesIcon?n("span",{class:e.yesIcon,attrs:{"aria-hidden":"true"}}):e._e()]),e._v(" "+e._s(e.messages.yes)+" ")],2),e._v(" "),n("button",{ref:"buttonNo",class:[e.noClass,e.buttonSizeClass],on:{click:function(t){return t.preventDefault(),e.onCancel(t)}}},[e._t("confirm-no-icon",[e.noIcon?n("span",{class:e.noIcon,attrs:{"aria-hidden":"true"}}):e._e()]),e._v(" "+e._s(e.messages.no)+" ")],2)])])],1)},staticRenderFns:[],components:{bPopover:bPopover},data:function(){return{isOpen:!1,randomId:"clickConfirm"+this._uid,target:null,allow:!1}},props:{buttonSize:{type:String,default:"",validator:function(t){return["lg","","sm"].includes(t)}},disabled:{type:Boolean,default:!1},messages:{type:Object,default:function(){return messagesDefault}},noClass:{type:[String,Array,Object],default:"btn btn-secondary"},noIcon:{type:[String,Array,Object],default:"fa fa-times"},placement:{type:String,default:"top"},yesClass:{type:[String,Array,Object],default:"btn btn-primary"},yesIcon:{type:[String,Array,Object],default:"fa fa-check"}},computed:{buttonSizeClass:function(){return this.buttonSize?"btn-"+this.buttonSize:""},messagesMerged:function(){return Object.assign({},messagesDefault,this.messages)}},watch:{disabled:function(t){t&&this.isOpen&&this.onCancel()}},methods:{onHidden:function(){this.target=null},onOk:function(){if(null!==this.target){this.allow=!0;var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.target.dispatchEvent(t)||console.error("Confirmed event failed to dispatch"),this.allow=!1}this.onCancel()},onCancel:function(){this.isOpen=!1},interceptEvent:function(t){this.disabled||(this.target=t.target,this.allow||(this.isOpen=!0,this.setFocusOnButtonYes(),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()))},setFocusOnButtonYes:function(){var t=this;this.$nextTick(function(){t.$nextTick(function(){t.isOpen&&t.$refs.buttonYes.focus()})})}},beforeDestroy:function(){this.isOpen&&this.onCancel()}},clickConfirmPlugin=function(t,e){var n="click-confirm";"string"==typeof e&&(n=e),t.component(n,component$1)};component$1.install=clickConfirmPlugin,exports.default=component$1,exports.component=component$1,exports.clickConfirmPlugin=clickConfirmPlugin;
//# sourceMappingURL=click-confirm.common.min.js.map
